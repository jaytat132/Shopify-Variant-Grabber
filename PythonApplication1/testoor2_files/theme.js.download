function getCookie(e){for(var t=e+"=",i=decodeURIComponent(document.cookie).split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}function attributeToString(e){return"string"!=typeof e&&"undefined"===(e+="")&&(e=""),jQuery.trim(e)}window.slate=window.slate||{},window.theme=window.theme||{},slate.a11y={pageLinkFocus:function(e){var t="js-focus-hidden";e.first().attr("tabIndex","-1").focus().addClass(t).one("blur",function(){e.first().removeClass(t).removeAttr("tabindex")})},focusHash:function(){var e=window.location.hash;e&&document.getElementById(e.slice(1))&&this.pageLinkFocus($(e))},bindInPageLinks:function(){$("a[href*=#]").on("click",function(e){this.pageLinkFocus($(e.currentTarget.hash))}.bind(this))},trapFocus:function(t){var e=t.namespace?"focusin."+t.namespace:"focusin";t.$elementToFocus||(t.$elementToFocus=t.$container),t.$container.attr("tabindex","-1"),t.$elementToFocus.focus(),$(document).on(e,function(e){t.$container[0]===e.target||t.$container.has(e.target).length||t.$container.focus()})},removeTrapFocus:function(e){var t=e.namespace?"focusin."+e.namespace:"focusin";e.$container&&e.$container.length&&e.$container.removeAttr("tabindex"),$(document).off(t)}},slate.cart={cookiesEnabled:function(){var e=navigator.cookieEnabled;return e||(document.cookie="testcookie",e=-1!==document.cookie.indexOf("testcookie")),e}},slate.utils={findInstance:function(e,t,i){for(var n=0;n<e.length;n++)if(e[n][t]===i)return e[n]},removeInstance:function(e,t,i){for(var n=e.length;n--;)if(e[n][t]===i){e.splice(n,1);break}return e},compact:function(e){for(var t=-1,i=null==e?0:e.length,n=0,a=[];++t<i;){var o=e[t];o&&(a[n++]=o)}return a},defaultTo:function(e,t){return null==e||e!=e?t:e}},slate.rte={wrapTable:function(e){var t=void 0===e.tableWrapperClass?"":e.tableWrapperClass;e.$tables.wrap('<div class="'+t+'"></div>')},wrapIframe:function(e){var t=void 0===e.iframeWrapperClass?"":e.iframeWrapperClass;e.$iframes.each(function(){$(this).wrap('<div class="'+t+'"></div>'),this.src=this.src})}},slate.Sections=function(){this.constructors={},this.instances=[],$(document).on("shopify:section:load",this._onSectionLoad.bind(this)).on("shopify:section:unload",this._onSectionUnload.bind(this)).on("shopify:section:select",this._onSelect.bind(this)).on("shopify:section:deselect",this._onDeselect.bind(this)).on("shopify:section:reorder",this._onReorder.bind(this)).on("shopify:block:select",this._onBlockSelect.bind(this)).on("shopify:block:deselect",this._onBlockDeselect.bind(this))},slate.Sections.prototype=$.extend({},slate.Sections.prototype,{_createInstance:function(e,t){var i=$(e),n=i.attr("data-section-id"),i=i.attr("data-section-type");void 0!==(t=t||this.constructors[i])&&(t=$.extend(new t(e),{id:n,type:i,container:e}),this.instances.push(t))},_onSectionLoad:function(e){e=$("[data-section-id]",e.target)[0];e&&this._createInstance(e)},_onSectionUnload:function(e){var t=slate.utils.findInstance(this.instances,"id",e.detail.sectionId);t&&("function"==typeof t.onUnload&&t.onUnload(e),this.instances=slate.utils.removeInstance(this.instances,"id",e.detail.sectionId))},_onSelect:function(e){var t=slate.utils.findInstance(this.instances,"id",e.detail.sectionId);t&&"function"==typeof t.onSelect&&t.onSelect(e)},_onDeselect:function(e){var t=slate.utils.findInstance(this.instances,"id",e.detail.sectionId);t&&"function"==typeof t.onDeselect&&t.onDeselect(e)},_onReorder:function(e){var t=slate.utils.findInstance(this.instances,"id",e.detail.sectionId);t&&"function"==typeof t.onReorder&&t.onReorder(e)},_onBlockSelect:function(e){var t=slate.utils.findInstance(this.instances,"id",e.detail.sectionId);t&&"function"==typeof t.onBlockSelect&&t.onBlockSelect(e)},_onBlockDeselect:function(e){var t=slate.utils.findInstance(this.instances,"id",e.detail.sectionId);t&&"function"==typeof t.onBlockDeselect&&t.onBlockDeselect(e)},register:function(e,i){this.constructors[e]=i,$("[data-section-type="+e+"]").each(function(e,t){this._createInstance(t,i)}.bind(this))}}),slate.Currency={formatMoney:function(e,t){"string"==typeof e&&(e=e.replace(".",""));var i="",n=/\{\{\s*(\w+)\s*\}\}/;function a(e,t,i,n){if(t=slate.utils.defaultTo(t,2),i=slate.utils.defaultTo(i,","),n=slate.utils.defaultTo(n,"."),isNaN(e)||null==e)return 0;t=(e=(e/100).toFixed(t)).split(".");return t[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+i)+(t[1]?n+t[1]:"")}switch((t=t||"${{amount}}").match(n)[1]){case"amount":i=a(e,2);break;case"amount_no_decimals":i=a(e,0);break;case"amount_with_space_separator":i=a(e,2," ",".");break;case"amount_with_comma_separator":i=a(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":i=a(e,0,",",".");break;case"amount_no_decimals_with_space_separator":i=a(e,0," ")}return t.replace(n,i)}},slate.Image={preload:function(e,t){"string"==typeof e&&(e=[e]);for(var i=0;i<e.length;i++){var n=e[i];this.loadImage(this.getSizedImageUrl(n,t))}},loadImage:function(e){(new Image).src=e},imageSize:function(e){return(e=e.match(/.+_((?:pico|icon|thumb|small|compact|medium|large|grande)|\d{1,4}x\d{0,4}|x\d{1,4})[_\.@]/))?e[1]:null},getSizedImageUrl:function(e,t){if(null===t)return e;if("master"===t)return this.removeProtocol(e);var i=e.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);return i?(e=e.split(i[0]),i=i[0],this.removeProtocol(e[0]+"_"+t+i)):null},removeProtocol:function(e){return e.replace(/http(s)?:/,"")}},slate.Variants=function(){function e(e){this.$container=e.$container,this.product=e.product,this.singleOptionSelector=e.singleOptionSelector,this.originalSelectorId=e.originalSelectorId,this.enableHistoryState=e.enableHistoryState,this.currentVariant=this._getVariantFromOptions(),$(this.singleOptionSelector,this.$container).on("change",this._onSelectChange.bind(this))}return e.prototype=$.extend({},e.prototype,{_getCurrentOptions:function(){var e=$.map($(this.singleOptionSelector,this.$container),function(e){var e=$(e),t=e.attr("type"),i={};return("radio"!==t&&"checkbox"!==t||!!e[0].checked)&&(i.value=e.val(),i.index=e.data("index"),i)});return slate.utils.compact(e)},_getVariantFromOptions:function(){var e=this._getCurrentOptions(),t=this.product.variants,n=!1;return t.forEach(function(t){var i=!0;e.forEach(function(e){i=i&&e.value===t[e.index]}),i&&(n=t)}),n||null},_onSelectChange:function(){var e=this._getVariantFromOptions();this.$container.trigger({type:"variantChange",variant:e}),e&&(this._updateMasterSelect(e),this._updateImages(e),this._updatePrice(e),this.currentVariant=e,this.enableHistoryState&&this._updateHistoryState(e))},_updateImages:function(e){var t=e.featured_image||{},i=this.currentVariant.featured_image||{};e.featured_image&&t.src!==i.src&&this.$container.trigger({type:"variantImageChange",variant:e})},_updatePrice:function(e){e.price===this.currentVariant.price&&e.compare_at_price===this.currentVariant.compare_at_price||this.$container.trigger({type:"variantPriceChange",variant:e})},_updateHistoryState:function(e){history.replaceState&&e&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+"?variant="+e.id,window.history.replaceState({path:e},"",e))},_updateMasterSelect:function(e){$(this.originalSelectorId,this.$container)[0].value=e.id}}),e}(),theme.config={mediaQueries:{xs:"screen and (max-width: 29.99em)",smallDown:"screen and (max-width: 47.99em)",small:"screen and (min-width: 30em) and (max-width: 47.99em)",smallUp:"screen and (min-width: 30em)",mediumDown:"screen and (max-width: 64em)",medium:"screen and (min-width: 48em) and (max-width: 63.99em)",mediumUp:"screen and (min-width: 48em)",largeDown:"screen and (max-width: 79.99em)",large:"screen and (min-width: 64em) and (max-width: 79.99em)",tabletl:"screen and (min-width: 64em)",largeUp:"screen and (min-width: 64.01em)",widescreen:"screen and (min-width: 80em)"},breakpoints:{small:480,medium:768,large:1024,widescreen:1280}},theme.Tabs=function(){var i="[js-tab-trigger]",n="[js-tab-content]";return{init:function(){$(i).on("click",function(e){e.preventDefault();var t,e=$(this);"true"!=e.attr("aria-selected")&&(t=$(n+"#"+e.attr("aria-controls")),e.siblings(i).attr("aria-selected",!1),e.attr("aria-selected",!0),t.siblings(n).hide().attr("aria-hidden",!0),t.show().attr("aria-hidden",!1))})}}}(),theme.Accordion=function(){var t="[js-accordion-group]",i="[js-accordion-header]",n="[js-accordion-content]";return{init:function(){$("body").on("click",i,function(e){e.preventDefault();e=$(this);"true"==e.attr("aria-expanded")?(e.siblings().slideUp(400,function(){$(this).attr("aria-hidden",!0)}),e.siblings(n).find(i).each(function(){$(this).attr("aria-expanded",!1),$(this).siblings(n).slideUp(400,function(){$(this).attr("aria-hidden",!0)})}),e.attr("aria-expanded",!1)):(e.parent().siblings().find(n,t).slideUp(400,function(){$(this).attr("aria-hidden",!0)}),e.parent().siblings().find(i,t).attr("aria-expanded",!1),e.siblings(n).slideDown().attr("aria-hidden",!1),e.attr("aria-expanded",!0))})}}}(),theme.KithGeo=function(){var e="[js-header-banner-site-swap]",i="[js-header-site-swap]",n="[js-header-banner-swap-trigger]",a="[js-geo-banner]",o="[js-geo-taxes]";return{init:function(){var t=$(i).remodal({hashTracking:!1});$(document).on("closing",i,function(e){window.location.href="https://eu.kith.com"}),$("body").on("click",e,function(e){e.preventDefault(),t.open()}),GeolizrAPI.addEventListener("geolizr.geoData",function(e){e.hasOwnProperty("countryCode")&&"US"==e.countryCode&&"USD"!=JSON.parse(getCookie("GlobalE_Data")).currencyCode&&(document.cookie="GlobalE_Data=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;domain=kith.com;"),e.hasOwnProperty("continentCode")&&"EU"==e.continentCode?(console.log("geolizr - EU"),""==getCookie("seedVisitedEU")?(console.log("has not visited eu.kith.com"),window.location.href="https://eu.kith.com"):(console.log("has visited eu.kith.com"),$(o).html("Duties and taxes applied at checkout."),$(a).show(),$("body").addClass("header-banner-active"))):e.hasOwnProperty("continentCode")&&"EU"!=e.continentCode&&(console.log("geolizer - Not EU",e),$(n).html("<span>Kith.com</span>"),"US"!=e.countryCode?(console.log("geolizer - Not EU, not US"),$(o).html("Duties and taxes applied at checkout."),$(a).show(),$("body").addClass("header-banner-active")):(console.log("geolizer - US"),$(a).hide(),$("body").removeClass("header-banner-active")))})}}}(),theme.GlobalPopup=function(){var n='[data-remodal-id="global-popup"]',a='[data-section-type="international-checkout"]';return{init:function(){var e=$(a);if(!(0<e.length)){const t=$(n);e=getCookie("seed_globalPopupSeen");if(0<t.length&&"true"!=e){e=new Date,e=(e.setTime(e.getTime()+2592e6),"expires="+e.toUTCString());document.cookie="seed_globalPopupSeen=true;path=/;domain=kith.com;"+e+";";const i=t.remodal({hashTracking:!1});i.open()}}}}}(),theme.GoNative={init:function(){{function e(){dataLayer.push(arguments)}if(!theme.isGoNative)return window.dataLayer=window.dataLayer||[],e("js",new Date),void e("config","UA-62344036-3")}function e(){dataLayer.push(arguments)}var t,i,n;if(console.log("useragent is gonative"),window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","UA-62344036-4"),$("body").addClass("is-go-native"),$(".hide-gonative").hide(),$(".show-gonative").show(),$("[js-login-form]").on("submit",function(){var e,t;e=$("#CustomerEmail").val(),t=$("#CustomerPassword").val(),localStorage.setItem("kithAccountEmail",e),localStorage.setItem("kithAccountPassword",t)}),!theme.customer)return n=localStorage.getItem("goNativeLoggedIn"),t=localStorage.getItem("kithAccountEmail"),i=localStorage.getItem("kithAccountPassword"),void(n&&t&&i&&(0<$(".errors").length?(localStorage.removeItem("goNativeLoggedIn"),localStorage.removeItem("kithAccountEmail"),localStorage.removeItem("kithAccountPassword")):((n=$("[js-login-form]")).find('input[name="customer[email]"]').val(t),n.find('input[name="customer[password]"]').val(i),n.trigger("submit"))));localStorage.setItem("goNativeLoggedIn",!0),$(document).ready(function(){$('a[href^="/account/logout"]').on("click",function(){return $.ajax($(this).attr("href")).done(function(){localStorage.removeItem("goNativeLoggedIn"),localStorage.removeItem("kithAccountEmail"),localStorage.removeItem("kithAccountPassword"),window.location.href="/account/login"}),!1})}),$("[js-app-back]").on("click",function(){window.history.back()})}},"undefined"==typeof ShopifyAPI&&(ShopifyAPI={}),ShopifyAPI.onCartUpdate=function(e){},ShopifyAPI.updateCartNote=function(t,i){var n=$(document.body),e={type:"POST",url:"/cart/update.js",data:"note="+attributeToString(t),dataType:"json",beforeSend:function(){n.trigger("beforeUpdateCartNote.ajaxCart",t)},success:function(e){"function"==typeof i?i(e):ShopifyAPI.onCartUpdate(e),n.trigger("afterUpdateCartNote.ajaxCart",[t,e])},error:function(e,t){n.trigger("errorUpdateCartNote.ajaxCart",[e,t]),ShopifyAPI.onError(e,t)},complete:function(e,t){n.trigger("completeUpdateCartNote.ajaxCart",[this,e,t])}};jQuery.ajax(e)},ShopifyAPI.onError=function(XMLHttpRequest,textStatus){var data=eval("("+XMLHttpRequest.responseText+")");data.message&&alert(data.message+"("+data.status+"): "+data.description)},ShopifyAPI.addItemFromForm=function(i,t,n){var a=$(document.body),e={type:"POST",url:"/cart/add.js",data:jQuery(i).serialize(),dataType:"json",beforeSend:function(e,t){a.trigger("beforeAddItem.ajaxCart",i)},success:function(e){"function"==typeof t?t(e,i):ShopifyAPI.onItemAdded(e,i),a.trigger("afterAddItem.ajaxCart",[e,i])},error:function(e,t){"function"==typeof n?n(e,t):ShopifyAPI.onError(e,t),a.trigger("errorAddItem.ajaxCart",[e,t])},complete:function(e,t){a.trigger("completeAddItem.ajaxCart",[this,e,t])}};console.log(jQuery(i).serialize(),"serialize"),jQuery.ajax(e)},ShopifyAPI.getCart=function(i){$(document.body).trigger("beforeGetCart.ajaxCart"),jQuery.getJSON("/cart.js",function(e,t){"function"==typeof i?i(e):ShopifyAPI.onCartUpdate(e),$(document.body).trigger("afterGetCart.ajaxCart",e)})},ShopifyAPI.changeItem=function(t,i,n){var a=$(document.body);jQuery.ajax({type:"POST",url:"/cart/change.js",data:"quantity="+i+"&line="+t,dataType:"json",beforeSend:function(){a.trigger("beforeChangeItem.ajaxCart",[t,i])},success:function(e){"function"==typeof n?n(e):ShopifyAPI.onCartUpdate(e),a.trigger("afterChangeItem.ajaxCart",[t,i,e])},error:function(e,t){a.trigger("errorChangeItem.ajaxCart",[e,t]),ShopifyAPI.onError(e,t)},complete:function(e,t){a.trigger("completeChangeItem.ajaxCart",[this,e,t])}})},Shopify.moveAlong=function(){var e;Shopify.queue.length?(e=Shopify.queue.shift(),$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:e,success:function(e){Shopify.moveAlong()},error:function(){Shopify.queue.length?Shopify.moveAlong():ajaxCart.load()}})):ajaxCart.load()},theme.Drawers=function(){function e(e,t,i){var n={close:"[js-drawer-close]",open:"[js-drawer-open-"+t+"]",openClass:"js-drawer-open",dirOpenClass:"js-drawer-open-"+t};if(this.nodes={$parent:$("html").add("body"),$page:$("#page-container")},this.config=$.extend(n,i),this.position=t,this.$drawer=$(e),!this.$drawer.length)return!1;this.drawerIsOpen=!1,this.init()}return e.prototype.init=function(){$(this.config.open).on("click",$.proxy(this.open,this)),this.$drawer.on("click",this.config.close,$.proxy(this.close,this))},e.prototype.open=function(e){var t=!1;return e?e.preventDefault():t=!0,e&&e.stopPropagation&&(e.stopPropagation(),this.$activeSource=$(e.currentTarget)),this.drawerIsOpen&&!t?this.close():(this.$drawer.prepareTransition(),this.nodes.$parent.addClass(this.config.openClass+" "+this.config.dirOpenClass),this.drawerIsOpen=!0,slate.a11y.trapFocus({$container:this.$drawer,namespace:"drawer_focus"}),this.config.onDrawerOpen&&"function"==typeof this.config.onDrawerOpen&&!t&&this.config.onDrawerOpen(),this.$activeSource&&this.$activeSource.attr("aria-expanded")&&this.$activeSource.attr("aria-expanded","true"),this.bindEvents(),this)},e.prototype.close=function(){this.drawerIsOpen&&($(document.activeElement).trigger("blur"),this.$drawer.prepareTransition(),this.nodes.$parent.removeClass(this.config.dirOpenClass+" "+this.config.openClass),$(this.config.open).attr("aria-expanded","false"),this.drawerIsOpen=!1,slate.a11y.removeTrapFocus({$container:this.$drawer,namespace:"drawer_focus"}),this.unbindEvents())},e.prototype.bindEvents=function(){this.nodes.$parent.on("keyup.drawer",$.proxy(function(e){return 27!==e.keyCode||(this.close(),!1)},this)),this.nodes.$page.on("touchmove.drawer",function(){return!1}),this.nodes.$page.on("click.drawer",$.proxy(function(){return this.close(),!1},this))},e.prototype.unbindEvents=function(){this.nodes.$page.off(".drawer"),this.nodes.$parent.off(".drawer")},e}();var ajaxCart=function(p){"use strict";var m,o,t,i,n,r,s,f;function a(e){r&&r.html(""+e.item_count),s&&s.html(slate.Currency.formatMoney(e.total_price,m.moneyFormat))}function c(){n.removeClass("is-adding").addClass("is-added"),ShopifyAPI.getCart(e)}function l(e,t){e=JSON.parse(e.responseText);n.removeClass("is-adding is-added"),e.message&&422===e.status&&(i.after('<div class="errors qty-error">'+e.description+"</div>"),console.log(e,t))}function e(e){a(e),d(e)}function d(e){if(f.empty(),0===e.item_count)return f.append('<div class="ajaxcart__inner"><p>Your cart is currently empty</p></div>'),void g(e);var o=[],r={},t={},i=p("#CartTemplate").html(),i=Handlebars.compile(i);if(p.each(e.items,function(e,t){i=null!=t.image?t.image.replace(/(\.[^.]*)$/,"_small$1").replace("http:",""):"//cdn.shopify.com/s/assets/admin/no-image-medium-cc9732cb976dd349a0df1d39816fbcc7.gif",r={key:t.key,line:e+1,url:t.url,img:i,name:t.product_title,variation:t.variant_title,properties:t.properties,itemAdd:t.quantity+1,itemMinus:t.quantity-1,itemQty:t.quantity,price:slate.Currency.formatMoney(t.price,m.moneyFormat),vendor:t.vendor,linePrice:slate.Currency.formatMoney(t.line_price,m.moneyFormat),originalLinePrice:slate.Currency.formatMoney(t.original_line_price,m.moneyFormat),discounts:t.discounts,discountsApplied:t.line_price!==t.original_line_price,handle:t.handle};var i,n,a=JSON.parse(JSON.stringify(t.properties));for(n in a)!a.hasOwnProperty(n)||"upsell"!=n&&"is-upsell"!=n&&"_Rew5g24Wg6"!=n||delete a[n];r.displayProperties=JSON.parse(JSON.stringify(a)),o.push(r)}),t={items:o,note:e.note,hasKith:!1,totalPrice:slate.Currency.formatMoney(e.total_price,m.moneyFormat),totalCartDiscount:0===e.total_discount?0:theme.strings.cartSavings+" "+slate.Currency.formatMoney(e.total_discount,m.moneyFormat),totalCartDiscountApplied:0!==e.total_discount},theme.ajax_upsell){var n=!1,a=!1,s=!1,c=[],l=[],d=[];if(e.items.forEach(function(e){switch(e.properties.upsell){case"wmns":a=!0;break;case"kids":s=!0;break;default:n=!0}}),n?c=theme.upsellUniversal.slice(0):a?c=theme.upsellWomen.slice(0):s&&(c=theme.upsellKids.slice(0)),0<c.length){for(var h=0;h<c.length;h++)l.push(c[h].handle);if(e.items.forEach(function(e){-1<l.indexOf(e.handle)&&(e=l.indexOf(e.handle),l.splice(e,1),c.splice(e,1))}),0<c.length){for(h=0;h<c.length;h++){u=-1<c[h].tags.indexOf("wmns")?"wmns":-1<c[h].tags.indexOf("kids")?"kids":"mens";var u={id:c[h].variants[0].id,name:c[h].title,price:slate.Currency.formatMoney(c[h].price,m.moneyFormat),img:c[h].featured_image,url:"/products/"+c[h].handle,upsell:u};d.push(u)}t.upsellProducts=d}}}f.append(i(t)),g(e)}function g(e){t.removeClass("drawer--is-loading"),t.trigger("afterCartLoad.ajaxCart",e),window.Shopify&&Shopify.StorefrontExpressButtons&&Shopify.StorefrontExpressButtons.initialize()}function h(e){a(e),setTimeout(function(){o=!1,ShopifyAPI.getCart(d)},150)}function u(e){return e=parseFloat(e)===parseInt(e)&&!isNaN(e)?e:1}return{init:function(e){function a(e,t){o=!0;var i=p('.ajaxcart__product[data-line="'+e+'"]').addClass("is-loading");0===t&&i.parent().addClass("is-removed"),setTimeout(function(){ShopifyAPI.changeItem(e,t,h)},250)}m={formSelector:'form[action^="/cart/add"]',cartContainer:"#CartContainer",addToCartSelector:'input[type="submit"]',cartCountSelector:null,cartCostSelector:null,moneyFormat:"${{amount}}",disableAjaxCart:!1,enableQtySelectors:!0},p.extend(m,e),i=p(m.formSelector),f=p(m.cartContainer),n=i.find(m.addToCartSelector),r=p(m.cartCountSelector),s=p(m.cartCostSelector),t=p(document.body),o=!1,m.enableQtySelectors&&(e=p('input[type="number"]',f)).length&&(e.each(function(){var e=p(this),t=e.val(),i=e.attr("name"),n=e.attr("id"),a=t+1,o=t-1,r=p("#JsQty").html(),r=Handlebars.compile(r),t={key:e.data("id"),itemQty:t,itemAdd:a,itemMinus:o,inputName:i,inputId:n};e.after(r(t)).remove()}),p(".js-qty__adjust").on("click",function(){var e=p(this),t=(e.data("id"),e.siblings(".js-qty__num")),i=u(i=parseInt(t.val().replace(/\D/g,"")));e.hasClass("js-qty__adjust--plus")?i+=1:--i<=1&&(i=1),t.val(i)})),!m.disableAjaxCart&&n.length&&i.on("submit",function(e){e.preventDefault(),n.removeClass("is-added").addClass("is-adding"),p(".qty-error").remove(),ShopifyAPI.addItemFromForm(e.target,c,l)}),t.on("click",".ajaxcart__product-remove",function(){var e;o||(e=p(this).data("line"))&&a(e,0)}),t.on("click",".ajaxcart__qty-adjust",function(){var e,t,i,n;o||(t=(e=p(this)).data("line"),i=e.siblings(".ajaxcart__qty-num"),n=u(n=parseInt(i.val().replace(/\D/g,""))),e.hasClass("ajaxcart__qty--plus")?n+=1:--n<=0&&(n=0),t?a(t,n):i.val(n))}),t.on("change",".ajaxcart__qty-num",function(){var e,t;o||(e=(t=p(this)).data("line"),t=u(t=parseInt(t.val().replace(/\D/g,""))),e&&a(e,t))}),t.on("submit","form.ajaxcart",function(e){o&&e.preventDefault()}),t.on("focus",".ajaxcart__qty-adjust",function(){var e=p(this);setTimeout(function(){e.select()},50)}),t.on("change",'textarea[name="note"]',function(){var e=p(this).val();ShopifyAPI.updateCartNote(e,function(e){})})},load:function(){t.addClass("drawer--is-loading"),ShopifyAPI.getCart(e)}}}(jQuery);window.theme=window.theme||{},theme.CartDrawer=new theme.Drawers("[js-drawer-bag]","bag",{onDrawerOpen:ajaxCart.load}),ajaxCart.init({formSelector:".product__form",cartContainer:"#CartContainer",addToCartSelector:".product-form__add-to-cart",cartCountSelector:"[js-cart-count]",moneyFormat:theme.moneyFormat}),jQuery(document.body).on("afterCartLoad.ajaxCart",function(e,t){theme.CartDrawer.open()}),$(function(){$(document).on("click","[js-quick-add]",function(e){e.preventDefault();var e=$(this).data("variant"),t={upsell:$(this).data("upsell")},e=($(this).data("is-upsell")&&(t["is-upsell"]=!0),$(this).data("universal-sizing")&&(t.Size=$(this).data("universal-sizing")),$(this).data("shamu")&&(t._Rew5g24Wg6="_OdHfFZo1dA"),{quantity:1,id:e,properties:t});$.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:e,success:function(e){ajaxCart.load()},error:function(){ajaxCart.load()}})})}),$(function(){$(document).on("click","[js-submit-check]",function(e){var e=$(e.target),t=e.closest("form").find('input[type="submit"]');e.is(":checked")?t.prop("disabled",!1):t.prop("disabled",!0)})}),$(function(){var e="[js-view-more]",t="[js-view-less]";$(document).on("click",e,function(e){var t=$(this).data("view");$('[data-id="'+t+'"]').toggleClass("show-more"),$(this).hide()}),$(document).on("click",t,function(e){var t=$(this).data("hide"),i=$('[data-id="'+t+'"]'),t=$('[data-view="'+t+'"]');i.toggleClass("show-more"),t.show()})}),$(function(){$(document).on("click","[js-sound-toggle]",function(e){e.preventDefault();e=$(this).siblings("video");e.prop("muted")?(e.prop("muted",!1),e.removeClass("muted")):(e.prop("muted",!0),e.addClass("muted"))})}),theme.Carousel=function(){var r="[js-carousel]",s="[js-carousel-previous]",c="[js-carousel-next]";function e(e){this.$container=$(e),this.initCarousel()}return e.prototype=$.extend({},e.prototype,{initCarousel:function(){var e,n=$(r,this.$container),a=$(s,this.$container),o=$(c,this.$container),t=!1,i={pageDots:!1,prevNextButtons:!1,imagesLoaded:!0},i=(void 0!==n.data("carousel-options")&&(e=JSON.parse(n.data("carousel-options").replace(/(\w+:)|(\w+ :)/g,function(e){return'"'+e.substring(0,e.length-1)+'":'}).replaceAll("'",'"'))),Object.assign(i,e));n.flickity(i),a.on("click",function(){n.flickity("previous")}),o.on("click",function(){n.flickity("next")}),1==n.data("hide-arrows")&&n.on("change.flickity",function(e,t){var i=n.data("flickity").slides.length;o.removeAttr("disabled"),a.removeAttr("disabled"),t==i-1?o.attr("disabled","disabled"):0==t&&a.attr("disabled","disabled")}),n.on("wheel",function(e){e.preventDefault(),0==t&&(t=!0,0<e.originalEvent.deltaY||0<e.originalEvent.deltaX?n.flickity("next"):(e.originalEvent.deltaY<0||e.originalEvent.deltaX<0)&&n.flickity("previous"),setTimeout(function(){t=!1},1500))})}}),e}(),theme.IconNav=function(){var n="[js-trigger]",a="[js-icon-nav-links]";function e(e){this.$container=$(e),this.$triggers=$(n,this.$container);var t=$('[data-remodal-id="icon-nav-menu"]'),i=t.remodal({hashTracking:!1});this.$triggers.on("click",function(){var e=$(this).data("target");$(a+'[data-id="'+e+'"]',t).show().siblings(a).hide(),i.open()})}return e.prototype=$.extend({},e.prototype,{}),e}(),theme.MobileNav=function(){var e={mobileNavDrawer:"[js-drawer-nav]"};return{init:function(){theme.MobileNavDrawer=new theme.Drawers(e.mobileNavDrawer,"nav")}}}(),theme.SearchDrawer=function(){var e={searchDrawer:"[js-drawer-search]"};return{init:function(){theme.SearchDrawer=new theme.Drawers(e.searchDrawer,"search",{onDrawerOpen:function(){$("#Search-Drawer").focus()}})}}}(),theme.FilterDrawer={init:function(){theme.CollectionFilterDrawer=new theme.Drawers("filter-menu-drawer","filter")}},theme.SiteHeader=function(){function e(e){}return e.prototype=$.extend({},e.prototype,{}),e}(),theme.SiteFooter=function(e){enquire.register(theme.config.mediaQueries.largeUp,{match:function(){$(".site-footer__link-header").attr("aria-expanded",!0),$(".site-footer__sublinks").removeAttr("style").attr("aria-hidden",!1)},unmatch:function(){$(".site-footer__link-header").attr("aria-expanded",!1),$(".site-footer__sublinks").attr("style","display: none;").attr("aria-hidden",!0)}})},theme.ProductCard=function(){var t="[js-product-card-countdown]";function e(e){this.$container=$(e),0<$(t,this.$container).length&&this.initCountdown()}return e.prototype=$.extend({},e.prototype,{initCountdown:function(){dayjs.extend(window.dayjs_plugin_utc),dayjs.extend(window.dayjs_plugin_customParseFormat),dayjs.extend(window.dayjs_plugin_timezone),dayjs.extend(window.dayjs_plugin_duration),$(t,this.$container).each(function(){var n=$(this),a=dayjs.tz(n.data("release"),"YYYY-MM-DD HH:mm","America/New_York"),o=setInterval(function(){var e,t,i=dayjs();i.isAfter(a)?(n.html("Refresh Page"),clearInterval(o)):(e="",0<(t=(i=dayjs.duration(a.diff(i))).$d.days)&&(e=1==t?e+"0"+t+" Day ":t<10?e+"0"+t+" Days ":e+t+" Days "),e=(t=i.$d.hours)<10?e+"0"+t+":":e+t+":",e=(t=i.$d.minutes)<10?e+"0"+t+":":e+t+":",(t=i.$d.seconds)<10?e=e+"0"+t:e+=t,n.html(e))},1e3)})}}),e.prototype=$.extend({},e.prototype,{}),e}(),theme.Product=function(){var r={addToCart:"[data-add-to-cart]",addToCartText:"[data-add-to-cart-text]",comparePrice:"[data-compare-price]",comparePriceText:"[data-compare-text]",originalSelectorId:"[data-product-select]",priceWrapper:"[data-price-wrapper]",productFeaturedImage:"[data-product-featured-image]",productJson:"[data-product-json]",productPrice:"[data-product-price]",productThumbs:"[data-product-single-thumbnail]",singleOptionSelector:"[data-single-option-selector]",productModelMeasurements:"[data-measurement-collection]",productUniversalSizing:"[js-m-w-sizing]",shippingReturnsTemplate:"[js-product-shipping-template]",productInformationAccordion:"[js-product-information-accordion-group]",multibrandSizing:"[js-multibrand-sizing]",sizeToggles:"[js-size-toggles]",productImageCarousel:"[js-image-carousel]",productImageModal:'[data-remodal-id="product-image-modal"]',zoomTrigger:"[js-product-zoom]",zoomImage:"[js-zoom-image]",bundleSelect:"[js-bundle-select]",bundleAdd:"[js-bundle-add]",manifoldProduct:"[js-manifold]"};function e(e){this.$container=$(e),$(r.productJson,this.$container).html()&&(this.$container.attr("data-section-id"),this.productSingleObject=JSON.parse($(r.productJson,this.$container).html()),e={$container:this.$container,enableHistoryState:this.$container.data("enable-history-state")||!1,singleOptionSelector:r.singleOptionSelector,originalSelectorId:r.originalSelectorId,product:this.productSingleObject},this.settings=JSON.parse(this.$container.attr("data-settings")||"{}"),this.namespace=".product",this.variants=new slate.Variants(e),this.$zoomTrigger=this.$container.find(r.zoomTrigger),this.$container.on("variantChange"+this.namespace,this.updateVariant.bind(this)),this.$container.on("variantPriceChange"+this.namespace,this.updateProductPrices.bind(this)),0<$(r.multibrandSizing,this.$container).length&&this.fetchMultibrandSizing(),0<$(r.productModelMeasurements,this.$container).length&&this.fetchModelMeasurements(),this.productSingleObject.available||this.checkEUAvailability(),this.$zoomTrigger&&this.initZoom(),this.$bundleAdd=$(r.bundleAdd,this.$container),0<this.$bundleAdd.length&&(this.$bundleSelects=$(r.bundleSelect,this.$container),this.initBundles()),this.initSwatches(),this.initShippingAndReturns(),0<$(r.manifoldProduct,this.$container).length&&this.initManifold())}return e.prototype=$.extend({},e.prototype,{initBundles:function(){var e=this.$bundleSelects,i=this.$bundleAdd;let n={items:[]};this.$bundleSelects.on("change",function(){var t=!0;n.items=[],e.each(function(){var e=$(this).find(":selected").val();""==e?t=!1:n.items.push({id:e,quantity:1})}),t?(i.removeAttr("disabled"),i.text("Add To Cart")):(i.attr("disabled","disabled"),i.text("Select Sizes"))}),this.$bundleAdd.on("click",function(){n.items=n.items.reverse(),fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(e=>{ajaxCart.load()}).catch(e=>{console.error("Error:",e)})})},initZoom:function(){var i,n=$(r.productImageModal).remodal({hashTracking:!1}),e=$(r.productImageCarousel);this.$zoomTrigger.data("video")&&(i=this.$zoomTrigger,e.on("change.flickity",function(e,t){0==t?i.hide():i.show()})),this.$zoomTrigger.on("click",function(e){var t=Flickity.data(r.productImageCarousel);$(r.zoomImage).attr("src",$(t.selectedElement).data("image")),n.open()})},initSwatches:function(){var e={shop:Shopify?Shopify.shop:"kithnyc.myshopify.com",id:String(this.productSingleObject.id)};return $.ajax({method:"GET",url:"/apps/swatches",dataType:"json",data:e}).done(this.processSwatchData.bind(this))},processSwatchData:function(e){var a=String(this.productSingleObject.id),o=e.settings.delimiter,t=e.result.reduce(function(e,t){var n=t.title.split("|").slice(-1)[0].trim().toUpperCase(),t=t.swatches.reduce(function(e,t){var i=t.title.split(o);return t.colorTitle=i.slice(-1)[0].trim(),t.productTitle=t.title.split(0,i.length-1).join(" "+o+" "),t.isActive=t.id===a,"RELATED"===n&&t.isActive||e.push(t),e},[]);return"RELATED"===n?e.secondary=e.secondary.concat(t):e.primary=e.primary.concat(t),e},{primary:[],secondary:[]});this.swatches=this.swatches||{},this.swatches.settings=e.settings,this.swatches.primary=t.primary,this.swatches.secondary=t.secondary,this.renderPrimarySwatches(),this.renderSecondarySwatches()},renderPrimarySwatches:function(){var e,t,i=[];for(e of this.swatches.primary)!1!==e.soldout&&void 0!==e.soldout||(void 0===(t=$.ajax({method:"GET",url:e.url+".js",dataType:"json",async:!1})).responseJSON?e.soldout=!1:!1===t.responseJSON.available&&(e.soldout=!0)),i.push(e);var n={showTooltips:this.swatches.settings.showTooltips,swatches:i},a=$("#ProductSwatchesTemplate").html();a&&(a=Handlebars.compile(a)(n),$("[js-product-swatches]").empty().append(a))},renderSecondarySwatches:function(){var o=this.swatches.secondary.slice(0),e=o.map(function(e){e={method:"GET",url:e.url+".js",dataType:"json"};return $.ajax(e)});$.when(e).done(function(a){idx=0,a.forEach(function(e,t){e.done(function(t){var e,i,n;o.forEach(function(e){e.handle===t.handle&&(e.price=slate.Currency.formatMoney(t.price,theme.moneyFormat),idx+=1)}),idx===a.length&&(e={swatches:o},(n=$("#ProductSwatchesRelatedTemplate").html())&&(i=/\ - /,e.swatches.forEach(function(e){var t=e.productTitle.search(i);e.productTitle=e.productTitle.substring(0,t)}),n=Handlebars.compile(n)(e),$("[js-product-shop-collection]").empty().append(n)),$("[js-related-products]").remove())})})})},fetchMultibrandSizing(){var i=this.$container.find(r.multibrandSizing),n=i.data("product-type");fetch("/pages/apparel-size-tables").then(e=>e.text()).then(e=>{var t=$("<div></div>"),e=(t.html(e),t.find('[data-id="'+n+'"]'));e.length<1?n.indexOf("footwear")<0?$("[js-size-accordion]").remove():(e=t.find('[data-id="footwear"]'),i.html(e),i.append("<p>Disclaimer: Please note that sizing and cut will vary between brands, please use the chart as a general guide. Our chart is based on general industry sizing and standards for the brands we carry.</p>")):(i.html(e),i.append("<p>Disclaimer: Please note that sizing and cut will vary between brands, please use the chart as a general guide. Our chart is based on general industry sizing and standards for the brands we carry.</p>"))}).catch(e=>{console.error("Error:",e)})},fetchModelMeasurements(){var i=$(r.productModelMeasurements,this.$container);$.ajax({type:"GET",url:"/pages/model-measurements",dataType:"html",async:!1,success:function(e){var e=JSON.parse($(e).find("[data-measurements-json]")[0].innerHTML),t=i.data("measurement-collection");i.append(e[t])}})},checkEUAvailability:function(){var t=!1,i=this.productSingleObject.handle;GeolizrAPI.addEventListener("geolizr.geoData",function(e){0==t&&e.hasOwnProperty("continentCode")&&"EU"==e.continentCode&&(t=!0,$("[data-add-to-cart]").html("Checking Availability on Kith Europe..."),$.ajax({type:"GET",url:"https://eu.kith.com/products/"+i+".js",dataType:"json",async:!1}).done(function(e){var t;e.available?($("[data-add-to-cart]").remove(),$("[data-product-form]").append('<button class="btn product-form__add-to-cart" js-product-swap>SHOP ON KITH EUROPE</a>'),t=$(r.swapModal).remodal({hashTracking:!1}),$(document).on("closing",r.swapModal,function(e){window.location.href="https://eu.kith.com/products/"+i}),$("body").on("click",r.swapTrigger,function(e){e.preventDefault(),t.open()})):console.log("product not available")}).fail(function(e){console.log("failed to get EU product URL"),$("[data-add-to-cart]").html("Sold Out")}))})},initShippingAndReturns:function(){var e=$(r.shippingReturnsTemplate),t=Handlebars.compile(e.html()),i={},n=!1,a=this.$container.find(r.productInformationAccordion),o=e.data("final");GeolizrAPI.addEventListener("geolizr.geoData",function(e){0==n&&e.hasOwnProperty("countryCode")&&("US"==e.countryCode?(i.carrier="UPS Ground",i.estimate="5-10"):(i.carrier="DHL Worldwide",i.estimate="10-15"),o&&(i.final=!0),a.append(t(i)),n=!0)})},initManifold:function(){let t=!1;GeolizrAPI.addEventListener("geolizr.geoData",function(e){0==t&&e.hasOwnProperty("countryCode")&&(console.log(e,"init manifold URL"),"US"==e.countryCode?(console.log("do not init manifold URL, is US"),t=!0):(console.log("init manifold URL, not US"),window.ManifoldShopifyURL=`https://kith.com/pages/international-checkout?invoice_url=<INVOICE_URL>&is_draft_order=1&glCountry=${e.countryCode}&draft_order_id=<DRAFT_ORDER_ID>`))})},updateVariant:function(e){var t,i,e=e.variant,n=this.$container.find(r.sizeToggles);if(!e)return $(r.addToCart,this.$container).prop("disabled",!0),$(r.addToCartText,this.$container).html(theme.strings.unavailable),void $(r.priceWrapper,this.$container).addClass("hide");$(r.priceWrapper,this.$container).removeClass("hide"),0<$(r.productUniversalSizing,this.$container).length&&("plus"==$(r.productUniversalSizing,this.$container).data("sizing-adjust")?(i=parseFloat(e.option1),t=parseFloat(e.option1)+1.5,$(r.productUniversalSizing,this.$container).val("M "+i+" / W "+t)):"minus"==$(r.productUniversalSizing,this.$container).data("sizing-adjust")&&(t=parseFloat(e.option1),i=parseFloat(e.option1)-1.5,$(r.productUniversalSizing,this.$container).val("W "+t+" / M "+i))),0<n.length&&(t=e.option1.toLowerCase(),0<(i=this.$container.find('[aria-controls="size-chart-'+t+'"]')).length&&i.trigger("click")),e.available?($(r.addToCart,this.$container).prop("disabled",!1),this.$container.data("preorder")?$(r.addToCartText,this.$container).html("Pre-order"):$(r.addToCartText,this.$container).html("Add to Cart")):($(r.addToCart,this.$container).prop("disabled",!0),$(r.addToCartText,this.$container).html(theme.strings.soldOut))},updateProductPrices:function(e){var e=e.variant,t=$(r.comparePrice,this.$container),i=t.add(r.comparePriceText,this.$container);$(r.productPrice,this.$container).html(slate.Currency.formatMoney(e.price,theme.moneyFormat)),e.compare_at_price>e.price?(t.html(slate.Currency.formatMoney(e.compare_at_price,theme.moneyFormat)),i.removeClass("hide")):(t.html(""),i.addClass("hide"))},updateProductImage:function(e){e=e.variant,e=slate.Image.getSizedImageUrl(e.featured_image.src,this.settings.imageSize);this.$featuredImage.attr("src",e)},onUnload:function(){this.$container.off(this.namespace)}}),e}(),theme.HeroVideo=function(){var t="[js-video]",i="[js-button]";function e(e){this.$container=$(e),this.initVideo()}return e.prototype=$.extend({},e.prototype,{initVideo:function(e){this.$muteButton=$(i,this.$container),this.$video=$(t,this.$container),this.$muteButton.on("click",this.handleMute.bind(this))},handleMute:function(e){e.preventDefault(),e.stopPropagation(),this.$container.toggleClass("sound"),this.$video.prop("muted",!this.$container.hasClass("sound"))}}),e}(),theme.Genie=function(){var t="[js-genie-input]",i="[js-genie-form]";function e(e){this.$container=$(e),this.$form=$(i,this.$container),this.$input=$(t,this.$container),this.$input.length<1||this.submitgenie()}return e.prototype=$.extend({},e.prototype,{submitgenie:function(e){var t=window.location.search,t=new URLSearchParams(t).get("paris");null!=t&&"cheznouscestaussichezvous"===t&&(this.$input.val("e42d8bd658bf443e634fb9ffc9d99084"),this.$form.submit())}}),e}(),theme.Address=function(){var t="[data-form-target]",i="[js-delete-address]",n="[js-add-address]";function e(e){this.$container=$(e),this.$modal=$('[data-remodal-id="account-address-edit"]').remodal({hashTracking:!1}),this.$addModal=$('[data-remodal-id="account-address-add"]').remodal({hashTracking:!1}),$(document).on("closed",".remodal",function(e){$("[js-address-edit-form]").hide()}),this.initNewProvince(),this.initEditProvince(),$(t,this.$container).on("click",this.editAddress.bind(this)),$(i).on("click",this.deleteAddress.bind(this)),$(n,this.$container).on("click",this.addAddress.bind(this))}return e.prototype=$.extend({},e.prototype,{initNewProvince:function(){new Shopify.CountryProvinceSelector("AddressCountryNew","AddressProvinceNew",{hideElement:"AddressProvinceContainerNew"})},initEditProvince:function(){$(t,this.$container).each(function(){var e=$(this).data("form-target");new Shopify.CountryProvinceSelector("AddressCountry_"+e,"AddressProvince_"+e,{hideElement:"AddressProvinceContainer_"+e})})},editAddress:function(e){e=$(e.currentTarget).data("form-target");$("#address_form_"+e).show(),this.$modal.open()},deleteAddress:function(e){console.log("delete");var e=$(e.currentTarget),t=e.data("form-id"),e=e.data("confirm-message");confirm(e||"Are you sure you wish to delete this address?")&&Shopify.postLink("/account/addresses/"+t,{parameters:{_method:"delete"}})},addAddress:function(e){this.$addModal.open()}}),e}(),theme.PageApparelSizing=function(e){if($("[data-sizing-json]").html()){for(var t=JSON.parse($("[data-sizing-json]").html()),i="",n=0;n<=t.collections.length-1;n++){for(var a="",o=t.collections[n],r='<button class="page-apparel-sizing__accordion-header" href="'+o.handle+'" js-accordion-header aria-expanded="false" aria-controls="'+o.handle+'">'+o.title+"</button>",s=0;s<=o.products.length-1;s++){for(var c=o.products[s],l='<h2 class="page-apparel-sizing__product-title">'+c.title+"</h2>",d='<div class="page-apparel-sizing__column--header"><div class="page-apparel-sizing__cell"></div>',h="",u=0;u<=c.properties.length-1;u++)d+='<div class="page-apparel-sizing__cell">'+c.properties[u]+"</div>";d+="</div>";for(var p=0;p<=c.sizes.length-1;p++){var m=c.sizes[p],f='<div class="page-apparel-sizing__column">';f+='<div class="page-apparel-sizing__cell">'+m.size+"</div>";for(var g=0;g<=m.property.length-1;g++){var y=m.property[g];f+='<div class="page-apparel-sizing__cell">'+y+"</div>"}h+=f+="</div>"}l='<div class="page-apparel-sizing__product" data-product-id="'+c.handle+'">'+l+'<div class="page-apparel-sizing__table">'+d+h+"</div></div>";a+=l}i+='<section class="page-apparel-sizing__collection" data-collection-id="'+o.handle+'">'+r+'<ul id="'+o.handle+'" class="page-apparel-sizing__products" style="display: none;" js-accordion-content aria-hidden="true">'+a+"</ul></section>"}$("[js-page-apparel-sizing-collections]").append(i)}},theme.Article=function(){var i="[js-packery-container]",n="[js-packery-item]",a="[js-article-read]",t="[js-article-hide]",o="[js-article-text]",r='[data-remodal-id="article-carousel-modal"]',s="[js-carousel]",c="[js-article-image]";function e(e){this.$container=$(e),this.initZoom(),0<$(i,this.$container).length&&this.initPackery(),$(a,this.$container).on("click",this.hideExcerpt.bind(this)),$(t,this.$container).on("click",this.hideContent.bind(this))}return e.prototype=$.extend({},e.prototype,{hideExcerpt:function(){var e=$(a,this.$container),t=$(o,this.$container);e.hide(),t.slideDown()},hideContent:function(){var e=$(a,this.$container);$(o,this.$container).slideUp(),e.show()},initZoom:function(){var e=$(r).remodal({draggable:!1,hashTracking:!1}),t=$(r).find(s);$(document).on("opened",e,function(){t.flickity("resize")}),enquire.register(theme.config.mediaQueries.largeUp,{match:function(){$(c).on("click.zoomIn",function(){e.open(),t.flickity("select",$(this).data("index")-1)})},unmatch:function(){$(c).off("click.zoomIn")}})},initPackery:function(){var e=$(i,this.$container).find(n)[0],t=$(i,this.$container).packery({itemSelector:n,columnWidth:e,percentPosition:!0,gutter:0});t.imagesLoaded().progress(function(){t.packery()})}}),e}(),theme.Blog=function(){var t="[js-articles]",i="[js-article]",n="[js-pagination]",e="[js-drawer-blog]";function a(e){this.$container=$(e),this.initInfiniteScroll(),this.initFilters()}return a.prototype=$.extend({},a.prototype,{initInfiniteScroll:function(){var e=$(t,this.$container);e.infiniteScroll({path:n,append:i,history:!1}),e.on("last.infiniteScroll",function(e,t){$(n).hide()})},initFilters:function(){theme.BlogDrawer=new theme.Drawers(e,"blog")}}),a}(),theme.Collection=function(){var t="[js-toggle-cards]",o="[js-filter]",n="[js-sort]",i="[js-sort-form]",r="[js-filter--size]",s="[js-filter-values]",a="[js-in-stock-input]",v="[js-size-value]",c="[js-clear-filter]",l="[js-filter-form]",e="[js-editorial]",d="[js-products]",h="[js-product]",u="[js-pagination]",p=["[js-products]","[js-active-filters]","[js-pagination-container]"];function m(e){this.$container=$(e),this.$cardToggles=this.$container.find(t),this.sectionId=this.$container.data("section-id"),this.infiniteScroll=!1,this.cache=[],this.$cardToggles.on("click",this.updateView.bind(this)),$("body").on("click","[js-filter-drawer-toggle], [js-filter-drawer-close]",function(){$("#filter-menu-drawer").prepareTransition().toggleClass("js-drawer-open-filter"),$("body").toggleClass("js-drawer-open-filter")}),$("body").on("click","[js-filter-drawer-toggle]",function(e){e.preventDefault(),e.stopPropagation(),$(document).bind("click.filterMenu",function(e){$(e.target).closest("#filter-menu-drawer").length<1&&(e.preventDefault(),e.stopPropagation(),$(document).unbind("click.filterMenu"),$("#filter-menu-drawer").prepareTransition().removeClass("js-drawer-open-filter"),$("body").removeClass("js-drawer-open-filter"))})}),$("body").on("click",".scroll-content__header",function(){$(this).siblings().toggle(),$(this).toggleClass("hide-content")}),this.debouncedOnFilterSubmit=this.debounce(e=>{this.onFilterSubmit(e)},500),this.initFilters(!0,!0),$(u,this.$container).length&&this.initInfiniteScroll()}return m.prototype=$.extend({},m.prototype,{updateView:function(){this.$container.toggleClass("collection--products-only")},initFilters(e=!1,t=!1){t&&this.filterOnPageLoad();const i=$(c,this.$container);window.addEventListener("popstate",this._onHistoryChange),$(l,this.$container).on("input",this.debouncedOnFilterSubmit),$(n,this.$container).on("input",this.onSortBy.bind(this)),i.on("click",this.onClearFilter.bind(this)),1<i.length&&this.hideEditorials(),e&&this.renderGroupedSizes()},onSortBy(e){$(i,this.$container).val(e.target.value),this.debouncedOnFilterSubmit(e)},initInfiniteScroll(){const t=$(d);t.infiniteScroll({path:u,append:h,history:!1}),$(document).on("click",u,function(e){e.preventDefault(),t.infiniteScroll("loadNextPage")}),t.on("last.infiniteScroll",function(e,t,i){$(u).hide()}),this.infiniteScroll=!0},destroyInfiniteScroll(){this.infiniteScroll&&($(d).infiniteScroll("destroy"),this.infiniteScroll=!1)},async filterOnPageLoad(){let e=this.$container[0].querySelector(a);if(e){const i={target:e};e.checked=!0;var t=new FormData(i.target.closest("form")),t=new URLSearchParams(t),t=await this.getFreshHTML(t);this.refreshFilters(t,i),(e=this.$container[0].querySelector(a))&&(e.checked=!1)}},onFilterSubmit(e){e.preventDefault();var t=e.target,i=this.$container[0].querySelector(l);if(i){i=new FormData(i);const n=new URLSearchParams(i);n.has("filter.v.availability")||"filter.v.availability"===t.name||n.append("filter.v.availability","1"),this.refreshUI(n.toString(),e)}},onClearFilter(e){e.preventDefault();var t=-1==e.currentTarget.href.indexOf("?")?"":e.currentTarget.href.slice(e.currentTarget.href.indexOf("?")+1);this.refreshUI(t,e)},async refreshUI(e,t){this.updateURLHash(e);e=await this.getFreshHTML(e);this.refreshFilters(e,t),this.refreshElements(e),this.initFilters(),this.refreshInfiniteScroll()},refreshFilters(e,t){const i=this.$container[0],n=[...e.querySelectorAll(o)].filter(e=>!e.hasAttribute("js-filter--size"));t=$(t.target).closest(o).data("index");if(n.forEach(e=>{i.querySelector(`${o}[data-index="${e.dataset.index}"]`).innerHTML=e.innerHTML}),this.refreshSizes(e),t){const a=$(o+`[data-index="${t}"]`);a.find(".scroll-content__header").removeClass("hide-content"),a.find(".scroll-content__content").css("display","block")}},refreshElements(a){p.forEach(e=>{const t=this.$container[0],i=a.querySelectorAll(e),n=t.querySelectorAll(e);n.forEach((e,t)=>{i[t]?e.innerHTML=i[t].innerHTML:e.remove()})})},refreshSizes(e){const i=this.$container[0],t=e.querySelectorAll(v);t.forEach(e=>{const t=i.querySelector(`${v}[data-index="${e.dataset.index}"]`);t&&(t.innerHTML=e.innerHTML)})},refreshInfiniteScroll(){var e=$(u,this.$container);this.infiniteScroll&&this.destroyInfiniteScroll(),e.length&&this.initInfiniteScroll()},getFreshHTML(e){const t=`${window.location.pathname}?section_id=${this.sectionId}&`+e;e=e=>e.url===t;return this.cache.some(e)?this.getHTMLFromCache(e):this.getHTMLFromFetch(t)},getHTMLFromCache(e){return(new DOMParser).parseFromString(this.cache.find(e).html,"text/html")},getHTMLFromFetch(i){let n=this.cache;return fetch(i).then(e=>e.text()).then(e=>{var t=(new DOMParser).parseFromString(e,"text/html");return n=[...n,{html:e,url:i}],t}).catch(e=>console.log(e))},updateURLHash(e){history.pushState({searchParams:e},"",""+window.location.pathname+(e&&"?".concat(e)))},renderGroupedSizes(){const e=this.$container[0].querySelector(r);if(e){const n=e.querySelector(s),a=this.groupSizes();a.forEach((e,t)=>{if(e.size)if(t==a.length-1)e.forEach(e=>e.remove());else{const i=document.createElement("LI");i.appendChild(document.createElement("UL")),i.classList.add("size-group"),e.forEach(e=>i.appendChild(e)),n.appendChild(i)}})}},groupSizes(){const e=[],t=this.$container[0].querySelectorAll(v),i=new Set,n=new Set,a=new Set,o=new Set,r=new Set,s=new Set,c=new Set,l=new Set,d=new Set,h=new Set,u=new Set;t.forEach(e=>{switch(e.querySelector("input").value){case"0-3":case"3-6":case"6-12":case"12-18":n.add(e);break;case"1":case"2":case"3":case"4/5":case"6":case"7":case"8/9":case"10/11":case"12":case"13":case"14":a.add(e);break;case"3C":case"4C":case"5C":case"6C":case"7C":case"8C":case"9C":case"10C":case"11C":case"12C":case"13C":r.add(e);break;case"1Y":case"1.5Y":case"2Y":case"2.5Y":case"3Y":case"3.5Y":case"4Y":case"4.5Y":case"5Y":case"5.5Y":case"6Y":case" 6.5Y":case"7Y":o.add(e);break;case"XXS":case"XS":case"S":case"M":case"L":case"XL":case"XXL":case"S/M":case"M/L":i.add(e);break;case"4":case"4.5":case"5":case"5.5":case"6":case"6.5":case"7":case"7.5":case"8":case"8.5":case"9":case"9.5":case"10":case"10.5":case"11":case"11.5":case"12":case"12":case"13":case"14":if(!c.has(e)){c.add(e);break}case"7":case"7 1/2":case"7 1/4":case"7 1/8":case"7 3/8":case"7 3/4":case"7 5/8":case"7 3/4":case"7 7/8":case"8":if(!l.has(e)){l.add(e);break}case"34":case"35":case"36":case"37":case"38":case"39":case"40":case"41":case"42":case"43":case"44":case"45":case"46":case"47":case"48":if(!s.has(e)){s.add(e);break}case"25":case"26":case"27":case"28":case"29":case"30":case"31":case"32":case"33":case"34":case"35":case"36":case"38":case"40":case"42":case"44":case"46":case"48":case"50":case"52":if(!d.has(e)){d.add(e);break}case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"10":case"11":case"12":case"13":if(!h.has(e)){h.add(e);break}default:u.add(e)}});var p=Array.from(l).sort((e,t)=>Number(e.querySelector("input").value.split(" ")[0])-Number(t.querySelector("input").value.split(" ")[0]));const m=Array.from(r).sort((e,t)=>Number(e.querySelector("input").value.split("C")[0])-Number(t.querySelector("input").value.split("C")[0]));var f=Array.from(a).sort((e,t)=>Number(e.querySelector("input").value.split("/")[0])-Number(t.querySelector("input").value.split("/")[0])),g=Array.from(n).sort((e,t)=>Number(e.querySelector("input").value.split("-")[0])-Number(t.querySelector("input").value.split("-")[0])),$=Array.from(o).sort((e,t)=>Number(e.querySelector("input").value.split("Y")[0])-Number(t.querySelector("input").value.split("Y")[0])),y=Array.from(c).sort((e,t)=>Number(e.querySelector("input").value)-Number(t.querySelector("input").value));return e.push(i),e.push(s),e.push(new Set(y)),e.push(new Set(p)),e.push(d),e.push(h),e.push(new Set(g)),e.push(new Set(f)),e.push(new Set(m.concat($))),e.push(u),e},hideEditorials(){$(e,this.container).hide()},debounce(t,i){let n;return(...e)=>{clearTimeout(n),n=setTimeout(()=>t.apply(this,e),i)}}}),m.searchParamsInitial=window.location.search.slice(1),m.searchParamsPrev=window.location.search.slice(1),m}(),theme.PageLoyalty=function(){var t="[js-page-content]",i="[js-loyalty-radio]",n="[js-loyalty-submit]";function e(e){this.$container=$(e),this.$submit=$(n,this.$container),this.$radio=$(i,this.$container);e=window.location.search,e=new URLSearchParams(e);if(this.email=e.get("email"),null==this.email)return void $(t).html('The link you have been given may not be correct.<br><br>Please return to your loyalty email and follow the link provided there.<br><br>If this error persists, private message us on <a src="https://www.twitter.com/kith_cs" target="_blank" rel="noreferrer noopener">Twitter</a> or email us at <a src="mailto:customerservice@kith.com" target="_blank" rel="noreferrer noopener">customerservice@kith.com</a>. With error code 1.');this.getUrl="https://us-central1-launches-by-seed.cloudfunctions.net/app/api/customers/get/kithLoyaltySP2021Madison1/"+this.email,this.postUrl="https://us-central1-launches-by-seed.cloudfunctions.net/app/api/customers/save/kithLoyaltySP2021Madison1/"+this.email,this.restorePrevious(),this.$radio.on("change",this.updateSubmit.bind(this)),this.$submit.on("click",this.submitPreferences.bind(this))}return e.prototype=$.extend({},e.prototype,{restorePrevious:function(){var t=this.$submit;this.$clear;$.ajax({type:"GET",url:this.getUrl,dataType:"json",async:!1}).done(function(e){console.log(e),void 0!==e.loyalty&&$('input[name="loyalty"]#'+e.loyalty).prop("checked",!0),t.html("Update")})},updateSubmit:function(){$('input[name="loyalty"]:checked').val()?this.$submit.removeAttr("disabled"):this.$submit.attr("disabled","disabled")},submitPreferences:function(){var e={email:this.email};void 0!==$('input[name="loyalty"]:checked').val()&&(e.loyalty=$('input[name="loyalty"]:checked').val()),console.log(e),$.ajax({type:"POST",url:this.postUrl,dataType:"json",data:e,async:!1}).done(function(){$("[js-loyalty-disclaimer]").html("Your preferences have been submitted. Please check your email for any updates. You may return to this page at any time before 9AM EST on Saturday, March 13th to update your preferences."),$("[js-loyalty-submit]").blur()}).fail(function(){$("[js-loyalty-disclaimer]").html('An error occurred while submitting your preferences. Please refresh the page and try again. If this error persists, private message us on <a src="https://www.twitter.com/kith_cs" target="_blank" rel="noreferrer noopener">Twitter</a> or email us at <a src="mailto:customerservice@kith.com" target="_blank" rel="noreferrer noopener">customerservice@kith.com</a>. With error code 2.'),$("[js-loyalty-submit]").blur()})}}),e}(),theme.PageArchive=function(){var t="[js-archive-year-select]",i="[js-tab-trigger]";function e(e){this.$container=$(e),this.$select=$(t,this.$container);e=$(i,this.$container);this.$select.on("change",this.triggerTabChange.bind(this)),e.on("click",this.triggerSelectChange.bind(this))}return e.prototype=$.extend({},e.prototype,{triggerTabChange:function(e){e.stopPropagation();e=this.$select.val();$('[data-trigger-id="'+e+'"]').trigger("click")},triggerSelectChange:function(e){this.$select.val($(e.currentTarget).data("trigger-id"))}}),e}(),theme.PageBrands=function(){var t="[js-brands-letter-select]";function e(e){this.$container=$(e),this.$select=$(t,this.$container),this.$select.on("change",this.filterLetters.bind(this)),enquire.register(theme.config.mediaQueries.mediumUp,{match:function(){console.log("large!"),$("[js-brands-letter-select]").val("all"),$("[js-brands-letter-select]").trigger("change")}})}return e.prototype=$.extend({},e.prototype,{filterLetters:function(e){var t=this.$select.val();"all"==t?$("[js-brands-letter]").fadeIn():((t=$('[js-brands-letter][data-letter="'+t+'"]')).siblings().hide(),t.fadeIn())}}),e}(),theme.PageTracking=function(){const i={malomoMount:"[js-malomo]",loadingIcon:"[js-icon-loading]"};function e(e){this.$container=$(e),this.malomoApiKey="pk_299649aa6babba9322abdc99fb4bb08a",this.initMalomo()}return e.prototype=$.extend({},e,{initMalomo(){const e=Malomo(this.malomoApiKey),t=e.elements(),s=$(i.loadingIcon,this.$container);let c=!1;e.fetchOrder().then(e=>{t.create("shipmentTracker",{order:e}).mount(i.malomoMount),c=!0}).catch(()=>{t.create("orderLookup",{callback:e=>{let t=new URL(document.URL);t.searchParams.append("_m_id",e.body.id),window.location.href=t}}).mount(i.malomoMount),c=!1}).finally(()=>{const e=new URLSearchParams(window.location.search),a=e.get("order"),o=e.get("email");function r(){const e=$(this),t=e.prev("label");e.val()?t.hide():t.show()}setTimeout(()=>{const e=$(".malomo-order-lookup-number-input"),t=$(".malomo-order-lookup-customer-email-input"),i=$(".malomo-order-lookup-tracking-number-input"),n=$(".malomo-order-lookup-submit-button");a&&o&&!c?(s.css({display:"flex"}),e.val(a),t.val(o),n.click()):s.hide(),e.on("input",r),t.on("input",r),i.on("input",r)},1)})}}),e}(),theme.Login=function(){var t="[js-login-form]",i="[js-reset-form]",n="[js-show-login]",a="[js-show-reset]";function e(e){this.$container=$(e),this.$loginForm=$(t,this.$container),this.$resetForm=$(i,this.$container),this.$showLoginTrigger=$(n,this.$container),this.$showResetTrigger=$(a,this.$container),this.$showResetTrigger.on("click",this.showResetForm.bind(this)),this.$showLoginTrigger.on("click",this.showLoginForm.bind(this)),this.checkUrlHash()}return e.prototype=$.extend({},e.prototype,{checkUrlHash:function(){"#recover"===window.location.hash&&(this.$loginForm.hide(),this.$resetForm.show())},showResetForm:function(e){e.preventDefault(),this.$loginForm.hide(),this.$resetForm.show(),window.location.hash="recover"},showLoginForm:function(e){e.preventDefault(),this.$resetForm.hide(),this.$loginForm.show(),window.location.hash=""}}),e}(),theme.Orders=function(){var n="[js-show-orders]",i="[js-orders]",a="[js-order]",o="[js-orders-pagination]";function e(e){this.$container=$(e),this.initInfiniteScroll()}return e.prototype=$.extend({},e.prototype,{initInfiniteScroll:function(){var e=$(i,this.$container);e.infiniteScroll({path:o,append:a,status:".page-load-status",history:!1,loadOnScroll:!1});let t=$(n);t.on("click",function(){event.preventDefault(),e.infiniteScroll("loadNextPage"),e.on("last.infiniteScroll",function(e,t,i){$(n).hide()})})}}),e}(),theme.ShoppableLookbook=function(){var t="[js-slookbook]",e="[js-desktop-arrow-left]",i="[js-desktop-arrow-right]",n="[js-products-carousel]",a="[js-scroll-container]",o="[js-scroll-indicator]",r="[js-hotspot]",c="[js-hotspot-dot]",s="[js-mobile-slide]";function l(e){this.$container=$(e),this.$carousel=this.$container.find(t),this.$productCarousel=this.$container.find(n),$("body").addClass("template-shoppable-lookbook"),this.init()}return l.prototype=$.extend({},l.prototype,{async init(){this.initDesktopCarousel(),this.products=await this.fetchProducts(),this.renderMobileSlides(),this.renderHotspots(),this.initHeader(),this.initScrollIndicator()},initHeader:function(){$(a,this.$container).on("scroll",this.throttle(function(){0<this.scrollTop?$("body").addClass("header-hidden"):$("body").removeClass("header-hidden")}))},initScrollIndicator:function(){var e=$(a,this.$container),t=$(o,this.$container);e.on("scroll",this.throttle(function(){0<this.scrollTop?t.removeClass("active"):t.addClass("active")}))},initDesktopCarousel(){this.$carousel.flickity({prevNextButtons:!1,pageDots:!1,contain:!0,imagesLoaded:!0,cellAlign:"left",groupCells:2}),this.$container.find(e).on("click",function(){this.$carousel.flickity("previous")}.bind(this)),this.$container.find(i).on("click",function(){this.$carousel.flickity("next")}.bind(this))},async renderHotspots(){var e=$(r,this.$container),s=this.products;e.each(function(e){const t=s[e],i=slate.Currency.formatMoney;var e="${{ amount }}",n=t.title.split(" - "),a=n[0],n=n[1],o=t.featured_image||t.images[0];const r=$(this);r.parent().attr("href",t.url),r.siblings(c).addClass("active"),r.html(`

          <div class="slookbook__hotspot-image">

            <img class="img" src="${o}" alt="${t.title}" />

          </div>

          <div class="slookbook__text">

            <h1 class="slookbook__title"> ${a}</h1>

            ${n?`<h3 class="slookbook__color">${n}</h3>`:""}

            <h2 class="slookbook__price">

              ${t.price_varies?i(t.price_min,e)+` - 

                  `+i(t.price_max,e):0<t.compare_at_price?`<span class="original">${i(t.compare_at_price,e)}</span> `+i(t.price,e):""+i(t.price,e)}

            </h2>

          </div>

        `)})},renderMobileSlides(){var e=$(s,this.$container),o=this.products;e.each(function(e){const t=o[e];if(t){const a=slate.Currency.formatMoney;var e="${{ amount }}",i=t.title.split(" - ")[0],n=t.featured_image||t.images[0];$(this).html(`

          <div class="slookbook__mobile-product-image">

            <img src="${n}" alt="${t.title}" />

          </div>

          <div class="slookbook__mobile-product-text">

            <h1 class="slookbook__mobile-product-title"> ${i}</h1>

            <h5 class="slookbook__mobile-product-price">

              ${t.price_varies?a(t.price_min,e)+` - 

                  `+a(t.price_max,e):0<t.compare_at_price?`<span class="original">${a(t.compare_at_price,e)}</span> `+a(t.price,e):""+a(t.price,e)}

            </h5>          

          </div>

        `).attr("href",t.url)}})},async fetchProducts(){var e=$(r,this.$container),t=[];return e.each(function(){t.push($(this).data("product-handle"))}),Promise.all(t.map(e=>this.fetchProduct(e)))},async fetchProduct(e){const t=await fetch(`/products/${e}.js`);return t.json()},throttle:function(e,t){var i=!1;return function(){i||(e.apply(this,arguments),i=!0,setTimeout(function(){i=!1},t))}}}),l}();const rfBlogContainer=document.querySelector("[js-rf-grid]");if(rfBlogContainer){let pack=new Packery(rfBlogContainer,{columnWidth:"[js-grid-item]",itemSelector:"[js-grid-item]",percentPosition:!0,gutter:24})}theme.utils={a11y:{getFocusableElements(e){return Array.from(e.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe"))},_trapFocusHandlers:{},trapFocus(t,e=t){var i=theme.utils.a11y.getFocusableElements(t),n=i[0],a=i[i.length-1];theme.utils.a11y.removeTrapFocus(),theme.utils.a11y._trapFocusHandlers.focusin=e=>{e.target!==t&&e.target!==a&&e.target!==n||document.addEventListener("keydown",theme.utils.a11y._trapFocusHandlers.keydown)},theme.utils.a11y._trapFocusHandlers.focusout=function(){document.removeEventListener("keydown",theme.utils.a11y._trapFocusHandlers.keydown)},theme.utils.a11y._trapFocusHandlers.keydown=function(e){"TAB"===e.code.toUpperCase()&&(e.target!==a||e.shiftKey||(e.preventDefault(),n.focus()),e.target!==t&&e.target!==n||!e.shiftKey||(e.preventDefault(),a.focus()))},document.addEventListener("focusout",theme.utils.a11y._trapFocusHandlers.focusout),document.addEventListener("focusin",theme.utils.a11y._trapFocusHandlers.focusin),e.focus()},removeTrapFocus(e=null){document.removeEventListener("focusin",theme.utils.a11y._trapFocusHandlers.focusin),document.removeEventListener("focusout",theme.utils.a11y._trapFocusHandlers.focusout),document.removeEventListener("keydown",theme.utils.a11y._trapFocusHandlers.keydown),e&&e.focus()}},prepareTransition(e){e.addEventListener("transitionend",()=>{e.classList.remove("is-transitioning")});let t=0;const i=getComputedStyle(e);["transition-duration","-moz-transition-duration","-webkit-transition-duration","-o-transition-duration"].forEach(e=>t=t||parseFloat(i.getPropertyValue(e))),0!=t&&(e.classList.add("is-transitioning"),e.offsetWidth)},defaultTo:function(e,t){return null==e||e!=e?t:e},formatMoney(e,t){"string"==typeof e&&(e=e.replace(".",""));var i="",n=/\{\{\s*(\w+)\s*\}\}/,t=t||theme.config.money.format;function a(e,t,i,n){if(t=theme.utils.defaultTo(t,2),i=theme.utils.defaultTo(i,","),n=theme.utils.defaultTo(n,"."),isNaN(e)||null==e)return 0;t=(e=(e/100).toFixed(t)).split(".");return t[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+i)+(t[1]?n+t[1]:"")}switch(t.match(n)[1]){case"amount":i=a(e,2);break;case"amount_no_decimals":i=a(e,0);break;case"amount_with_space_separator":i=a(e,2," ",".");break;case"amount_no_decimals_with_comma_separator":i=a(e,0,",",".");break;case"amount_no_decimals_with_space_separator":i=a(e,0," ")}return t.replace(n,i)},serializeForm:e=>{const t={},i=new FormData(e);for(const n of i.keys()){const a=/(?:^(properties\[))(.*?)(?:\]$)/;a.test(n)?(t.properties=t.properties||{},t.properties[a.exec(n)[2]]=i.get(n)):t[n]=i.get(n)}return JSON.stringify(t)},debounce(t,i){let n;return(...e)=>{clearTimeout(n),n=setTimeout(()=>t.apply(this,e),i)}},getSiblings(e,t){let i=[],n;for(var a of n=t?e.parentNode.querySelectorAll(":scope > "+t):e.parentNode.children)a!==e&&i.push(a);return i},refreshElements(e,n,a){e.forEach(e=>{const i=n.querySelectorAll(e),t=a.querySelectorAll(e);t.forEach((e,t)=>{i[t]?e.innerHTML=i[t].innerHTML:e.remove()})})}};class FocusableWidget extends HTMLElement{constructor(e={}){if(super(),!e.name)throw new Error(`Focusable Widget(${e.name}) must have a name`);if(!this.id)throw new Error(e.name+" must have an id");if(!e.background)throw new Error(`Focusable Widget(${e.name}) must have a background`);this._clientConfig=e,this._init(e)}open(){if(!this._isOpen)return this._closeFocusableWidgets(),this.toggle()}close(){if(this._isOpen)return this.toggle()}toggle(){return theme.utils.prepareTransition(this),this._toggleClasses(),this._toggleAccessibilityAttributes(),this._isOpen?(theme.utils.a11y.removeTrapFocus(this),this._unbindEvents(),this._dispatchEvents(this._events.close,["close"])):(theme.utils.a11y.trapFocus(this),this._bindEvents(),this._dispatchEvents(this._events.open,["open"])),this._isOpen=!this._isOpen,this}reinitWidget(){this._init(this._clientConfig)}get isOpen(){return this._isOpen}_init({name:e,background:t,widgetOpenClasses:i=[],bodyOpenClasses:n=[],attributes:a={}}){this._name=e,this._isOpen=!1,this._selectors={background:t,open:this.getAttribute("open"),close:this.getAttribute("close")},this._nodes={background:document.querySelector(this._selectors.background)},this._events={open:["focusable-widget:open",e+":open",this.id+":open"],close:["focusable-widget:close",e+":close",this.id+":close"]},this._config={open:document.querySelectorAll(this._selectors.open),close:document.querySelectorAll(this._selectors.close),attributes:{"data-focusable-widget":"true","aria-hidden":"true",tabindex:0,...a},widgetOpenClasses:["open",this.getAttribute("open-class")].concat(i),bodyOpenClasses:["js-focusable-widget-open",`js-${e}-open`,this.getAttribute("body-open-class")].concat(n)},this._validateConfig(),this._addAccessibilityAttributes(),this._setupListeners()}_validateConfig(){if(this._config.open&&this._config.open.length||console.warn(`WARN: ${this._name}: no open triggers found. Check your ${this._name} 'open' attribute, or add a trigger (if needed)`),!this._config.close||!this._config.close.length)throw new Error(`${this._name}: invalid close trigger selector, no elements found. Check your ${this._name} 'close' attribute`)}_setupListeners(){this._config.open.forEach(e=>e.addEventListener("click",this._open.bind(this))),this._config.close.forEach(e=>e.addEventListener("click",this._close.bind(this))),this.addEventListener("click",e=>e.stopPropagation())}_open(e){e&&(e.preventDefault(),e.stopPropagation()),this.open()}_close=e=>{e&&(e.preventDefault(),e.stopPropagation()),this.close()};_closeFocusableWidgets(){const e=document.querySelectorAll("[data-focusable-widget].open");e.forEach(e=>e.close())}_dispatchEvents(e,t){e.forEach(e=>document.dispatchEvent(new CustomEvent(e))),t&&t.length&&t.forEach(e=>this.dispatchEvent(new CustomEvent(e)))}_bindEvents(){document.addEventListener("keyup",this._onKeyUp),this._nodes.background.addEventListener("click",this._close),this._nodes.background.addEventListener("touchmove",this._onTouchMove)}_unbindEvents(){document.removeEventListener("keyup",this._onKeyUp),this._nodes.background.removeEventListener("click",this._close),this._nodes.background.removeEventListener("touchmove",this._onTouchMove)}_toggleClasses(){this._isOpen?(this._config.bodyOpenClasses.forEach(e=>{e&&document.body.classList.remove(e)}),this._config.widgetOpenClasses.forEach(e=>{e&&this.classList.remove(e)})):(this._config.bodyOpenClasses.forEach(e=>{e&&document.body.classList.add(e)}),this._config.widgetOpenClasses.forEach(e=>{e&&this.classList.add(e)}))}_toggleAccessibilityAttributes(){this._isOpen?(this.setAttribute("aria-hidden","true"),this.setAttribute("tabindex","-1"),this._config.open.forEach(e=>e.setAttribute("aria-expanded","false")),this._config.close.forEach(e=>e.setAttribute("aria-expanded","false"))):(this.setAttribute("aria-hidden","false"),this.setAttribute("tabindex","0"),this._config.open.forEach(e=>e.setAttribute("aria-expanded","true")),this._config.close.forEach(e=>e.setAttribute("aria-expanded","true")))}_addAccessibilityAttributes(){var e=e=>{e.setAttribute("tabindex","0"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-controls",this.id)};for(const t in this._config.attributes)this.setAttribute(t,this._config.attributes[t]);this._config.open.forEach(e),this._config.close.forEach(e)}_onKeyUp=e=>{"ESCAPE"===e.code.toUpperCase()&&this.close()};_onTouchMove=()=>!1}class Modal extends FocusableWidget{constructor(){super({name:"modal",background:".modal-background",bodyOpenClasses:"js-modal-open"})}}class Carousel extends HTMLElement{constructor(){super(),this.selectors={carousel:"[js-carousel]",slide:"[js-carousel-slide]",dots:"[js-carousel-dots]",prevButton:"[js-prev-button]",nextButton:"[js-next-button]"},this.options={imagesLoaded:!0,contain:!0,pageDots:!1,prevNextButtons:!1,cellSelector:this.selectors.slide,wrapAround:!0,on:{ready:this._onReady}}}connectedCallback(){var e=this.dataset.options?JSON.parse(this.dataset.options):{};this.options=Object.assign(this.options,e),this._initCarousel()}_initCarousel(){this.dots=this.querySelector(this.selectors.dots),this.dots&&(this.eachDot=this.dots.querySelectorAll("button")),this.prevButton=this.querySelector(this.selectors.prevButton),this.nextButton=this.querySelector(this.selectors.nextButton),void 0!==this.dataset.init?enquire.register(theme.config.mediaQueries[this.dataset.init],{match:function(){this.carousel=new Flickity(this.querySelector(this.selectors.carousel),this.options),this._initCarouselControls()}.bind(this),unmatch:function(){this.carousel.element.classList.contains("flickity-enabled")&&this.carousel.destroy()}.bind(this)}):(this.carousel=new Flickity(this.querySelector(this.selectors.carousel),this.options),this._initCarouselControls())}_initCarouselControls(){this.dots&&(this.carousel.on("change",this._updateDots),this.eachDot.forEach(e=>{e.addEventListener("click",this._onDotClick)})),this.prevButton&&this.prevButton.addEventListener("click",this._onPrevClick),this.nextButton&&this.nextButton.addEventListener("click",this._onNextClick)}_onReady=()=>{this.dots&&this._updateDots(0)};_updateDots=e=>{this.eachDot.forEach(e=>{e.classList.remove("selected")}),this.dots.querySelector('[data-index="'+e+'"]').classList.add("selected")};_onDotClick=e=>{var e=e.currentTarget,t=e.dataset.index;this.carousel.select(t,!0,!0),this.eachDot.forEach(e=>{e.classList.remove("selected")}),e.classList.add("selected")};_onPrevClick=()=>{this.carousel.previous()};_onNextClick=()=>{this.carousel.next()}}class ArticleHeader extends HTMLElement{constructor(){super(),this._selectors={comingSoon:"[js-coming-soon]"}}connectedCallback(){this.comingSoon=document.querySelector(this._selectors.comingSoon),this.comingSoon&&(this.time=this.comingSoon.getAttribute("data-time"),this.collection=this.comingSoon.getAttribute("data-collection"),this.time&&this._initDateTime())}_initDateTime(){dayjs.extend(window.dayjs_plugin_utc),dayjs.extend(window.dayjs_plugin_customParseFormat),dayjs.extend(window.dayjs_plugin_timezone),dayjs.extend(window.dayjs_plugin_duration);var e=dayjs.utc(this.time);const t=dayjs(this.time).tz("America/New_York"),i=dayjs();let n="";var a=t.format("MMMM D, YYYY");n=0!=t.$m?t.format("h:mma"):t.format("ha"),i.isBefore(e)?this.comingSoon.innerHTML=`Releasing on ${a} at ${n} EST`:this.comingSoon.innerHTML=`Released on ${a} at ${n} EST. `+(this.collection?`<a href="/collections/${this.collection}">Shop Now</a>`:"")}}class ArticleImageCarousel extends HTMLElement{constructor(){super(),this._selectors={thumbnail:"[js-thumbnail]",modal:"[js-modal]",modalCarousel:"[js-modal-carousel]"}}connectedCallback(){this.modal=this.querySelector(this._selectors.modal),this.sectionID=this.getAttribute("data-id"),this.modalCarousel=Flickity.data(this.querySelector(this._selectors.modalCarousel)),this._setEventListeners()}_setEventListeners(){this.thumbnails=this.querySelectorAll(this._selectors.thumbnail),this.thumbnails.forEach(e=>{e.addEventListener("click",this._openModal)}),document.addEventListener(this.sectionID+"ArticleImageCarouselModal:open",this._resizeModalCarousel)}_openModal=e=>{e.stopPropagation(),e.preventDefault();const t=e.currentTarget;e=t.getAttribute("data-index");this.modal.open(),this.modalCarousel.select(e)};_resizeModalCarousel=e=>{this.modalCarousel.resize()}}class CustomRegistration extends HTMLElement{constructor(){super(),this._selectors={}}connectedCallback(){this._init()}_init(){const e=new URLSearchParams(window.location.search);if(e.get("utm_campaign"))return this.classList.remove("hidden"),void this.classList.add("flex");location.href="/"}}customElements.define("s-modal",Modal),customElements.define("s-carousel",Carousel),customElements.define("kith-article-image-carousel",ArticleImageCarousel),customElements.define("article-header",ArticleHeader),customElements.define("custom-registration",CustomRegistration),$(document).ready(function(){var e=new slate.Sections;e.register("password",theme.Genie),e.register("icon-nav",theme.IconNav),e.register("page--archive",theme.PageArchive),e.register("page--brands",theme.PageBrands),e.register("product",theme.Product),e.register("product-card",theme.ProductCard),e.register("site-header",theme.SiteHeader),e.register("site-footer",theme.SiteFooter),e.register("hero--video",theme.HeroVideo),e.register("blog",theme.Blog),e.register("article",theme.Article),e.register("collection",theme.Collection),e.register("page-apparel-sizing",theme.PageApparelSizing),e.register("page-loyalty",theme.PageLoyalty),e.register("page-tracking",theme.PageTracking),e.register("carousel",theme.Carousel),e.register("login",theme.Login),e.register("address",theme.Address),e.register("orders",theme.Orders),e.register("slookbook",theme.ShoppableLookbook),slate.a11y.pageLinkFocus($(window.location.hash)),$(".in-page-link").on("click",function(e){slate.a11y.pageLinkFocus($(e.currentTarget.hash))}),slate.rte.wrapTable({$tables:$(".rte table"),tableWrapperClass:"rte__table-wrapper"});slate.rte.wrapIframe({$iframes:$('.rte iframe[src*="youtube.com/embed"],.rte iframe[src*="player.vimeo"]'),iframeWrapperClass:"rte__video-wrapper"}),slate.cart.cookiesEnabled()&&(document.documentElement.className=document.documentElement.className.replace("supports-no-cookies","supports-cookies")),theme.MobileNav.init(),theme.SearchDrawer.init(),theme.Accordion.init(),theme.Tabs.init(),theme.KithGeo.init(),theme.GlobalPopup.init(),theme.GoNative.init()});